<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta charset="UTF-8">
    <title>Impress.js 展示</title>
    <meta name="description" content="本 demo 纯粹用于展示 impress.js，接近翻译，类似教程。"/>
    <meta name="author" content="Sam Chen"/>
    <link rel="stylesheet" href="/static/js/swiper/idangerous.swiper.css?a=1" rel="external nofollow">
    <script defer src="/static/js/swiper/idangerous.swiper.min.js?a=1"></script>
    <script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
</head>
<style>
    body {
        margin: 0;
    }

    .swiper-slide img {
        width: 100%;
    }

    .pagination {
        position: absolute;
        z-index: 20;
        left: 10px;
        top: 10px;
    }

    .swiper-pagination-switch {
        display: block;
        width: 8px;
        height: 8px;
        border-radius: 8px;
        background: #555;
        margin: 0 0px 5px;
        opacity: 0.8;
        border: 1px solid #fff;
        cursor: pointer;
    }

    .swiper-active-switch {
        background: #fff;

    }

    .inSlider {
        position: absolute;
    }

    .textdis {
        position: absolute;
        z-index: 999;
    }

    .text_p {
        font-size: 20px;
        color: #ffffff;
        -webkit-text-stroke: 1px #000000;
        text-align: left;
        font-weight: bold;
    }

</style>
<body>

<div class="swiper-container">
    <div class="swiper-wrapper">
        <div class="swiper-slide">
            <img src="/static/image/yxl2014/1e1.jpg">
        </div>
        <div class="swiper-slide">
            <img src="/static/image/yxl2014/1e2.jpg">
        </div>
        <div class="swiper-slide">
            <img src="/static/image/yxl2014/1e3.jpg">
        </div>
        <div class="swiper-slide">
            <img src="/static/image/yxl2014/1e4.jpg">
        </div>
        <div class="swiper-slide">
            <img src="/static/image/yxl2014/1e5.jpg">
        </div>
    </div>
    <div class="pagination"></div>
</div>
<script src="/static/js/theme/yxl2014/eventList.js?a=4" type="text/javascript"></script>
<script>

    $(function () {
        var imgnum = $('img').length;
        var loadednum = 0;
        $('img').load(function () {
            loadednum += 1;
            if (loadednum == imgnum) {
                $('.swiper-container').css({
                    width: document.body.scrollWidth,
                    height: document.body.scrollHeight
                });
                $('.swiper-slide').css({
                    width: document.body.scrollWidth,
                    height: document.body.scrollHeight
                })
                var mySwiper = $('.swiper-container').swiper({
                    //Your options here:
                    mode: 'vertical',
                    loop: true
                }
                $('.swiper-slide img').css({
                    width: document.body.scrollWidth
                })
                var mySwiper = $('.swiper-container').swiper({
                    //Your options here:
                    pagination: '.pagination',
                    paginationClickable: true,
                    mode: 'vertical',
                    loop: true,
                    onSlideChangeStart: function (swiper) {
                        $('#tarea').remove();
                        {#                alert(swiper.activeIndex - 2)#}
                        var tarea = $("<div id='tarea'></div>");
                        var eText = eventText[swiper.activeIndex - 2]

                        var cssParam = {
                            position: 'absolute',
                            zIndex: 999,
                            opacity: 0
                        };
                        cssParam.width = eventText[0].width;
                        cssParam.top = eventText[0].top;
                        cssParam.left = eventText[0].left;
                        var animateParam = {};
                        animateParam.opacity = '1';
                        {#                if (eText.mod == 'left') {#}
                        {#                    cssParam.width = eventText[0].width;#}
                        {#                    cssParam.top = eventText[0].top;#}
                        {#                    cssParam.left = 0 - document.body.clientWidth;#}
                        {#                    animateParam.left = eventText[0].left;#}
                        {#                } else if (eText.mod == 'right') {#}
                        {#                    cssParam.width = eventText[0].width;#}
                        {#                    cssParam.top = eventText[0].top;#}
                        {#                    cssParam.left = 100 + document.body.clientWidth;#}
                        {#                    animateParam.left = eventText[0].left;#}
                        {#                } else if (eText.mod == 'down') {#}
                        {#                    cssParam.width = eventText[0].width;#}
                        {#                    cssParam.top = 0 - document.body.clientHeight;#}
                        {#                    cssParam.left = eventText[0].left;#}
                        {#                    animateParam.top = eventText[0].top;#}
                        {#                } else if (eText.mod == 'up') {#}
                        {#                    cssParam.width = eventText[0].width;#}
                        {#                    cssParam.top = 100 + document.body.clientHeight;#}
                        {#                    cssParam.left = eventText[0].left;#}
                        {#                    animateParam.top = eventText[0].top;#}
                        {#                }#}

                        tarea.css(cssParam)

                        tarea.appendTo($(document.body));
                        {#                        tarea.addClass('text_trans');#}
                        $('#tarea').show('slow').queue(function (next) {
                            for (var i = 0; i < eText.text.length; i++) {
                                var pl = $("<div style='display: inline-block;'><p>" + eText.text[i] + "</p></div>");
                                pl.addClass('text_p');
                                pl.appendTo($(tarea));
                                pl.show('slow');
                            }
                        })
                    }
                    //etc..
                });

                {#        var mySwiper = $('.swiper-container').swiper({#}
                {#            //Your options here:#}
                {#            mode: 'vertical',#}
                {#            loop: true#}
                {#            //etc..#}
                {#        });#}
            }
        })
    })
</script>
</body>
</html>